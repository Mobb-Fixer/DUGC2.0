<h2 class="title">Analysis Report</h2>
<br>

<div class="container">
  <h5 class="subtitle">Analysis for &nbsp;<span class="bold">{{exam_input_name}}</span>&nbsp; | Sem &nbsp;<span
      class="bold">{{sem_input}}</span>&nbsp;
    | <span class="bold">&nbsp;{{current_year}}</span></h5>

  <div class="table-analysis">
    <table>
      <tr>
        <td rowspan="3" style="background-color: rgb(221, 209, 233);"><b>Sl no.</b></td>
        <td rowspan="3" style="background-color: rgb(221, 209, 233);"><b>Course code</b></td>
        <td colspan="25" style="background-color: rgb(221, 209, 233);"><b>No. of students scoring marks</b></td>
        <td colspan="5" rowspan="2" style="background-color: rgb(221, 209, 233);"><b>Total students</b></td>
        <td colspan="5" rowspan="2" style="background-color: rgb(221, 209, 233);"><b>Average Marks {{current_year}}</b></td>
        <td colspan="5" rowspan="2" style="background-color: rgb(221, 209, 233);"><b>Average Marks 2022-23</b></td>
      </tr>
      <tr>
        <td colspan="5" style="background-color: antiquewhite;" ><b>0-4</b></td>
        <td colspan="5" style="background-color: antiquewhite;"><b>5-7</b></td>
        <td colspan="5" style="background-color: antiquewhite;"><b>8-11</b></td>
        <td colspan="5" style="background-color: antiquewhite;"><b>12-16</b></td>
        <td colspan="5" style="background-color: antiquewhite;"><b>17-20</b></td>
      </tr>
      <tr>
        <td style="background-color: lightblue;">A</td>
        <td style="background-color: lightblue;">B</td>
        <td style="background-color: lightblue;">C</td>
        <td style="background-color: lightblue;">D</td>
        <td style="background-color: lightblue;">E</td>

        <td style="background-color: lightblue;">A</td>
        <td style="background-color: lightblue;">B</td>
        <td style="background-color: lightblue;">C</td>
        <td style="background-color: lightblue;">D</td>
        <td style="background-color: lightblue;">E</td>
        <td style="background-color: lightblue;">A</td>
        <td style="background-color: lightblue;">B</td>
        <td style="background-color: lightblue;">C</td>
        <td style="background-color: lightblue;">D</td>
        <td style="background-color: lightblue;">E</td>

        <td style="background-color: lightblue;">A</td>
        <td style="background-color: lightblue;">B</td>
        <td style="background-color: lightblue;">C</td>
        <td style="background-color: lightblue;">D</td>
        <td style="background-color: lightblue;">E</td>

        <td style="background-color: lightblue;">A</td>
        <td style="background-color: lightblue;">B</td>
        <td style="background-color: lightblue;">C</td>
        <td style="background-color: lightblue;">D</td>
        <td style="background-color: lightblue;">E</td>

        <td style="background-color: lightblue;">A</td>
        <td style="background-color: lightblue;">B</td>
        <td style="background-color: lightblue;">C</td>
        <td style="background-color: lightblue;">D</td>
        <td style="background-color: lightblue;">E</td>

        <td style="background-color: lightblue;">A</td>
        <td style="background-color: lightblue;">B</td>
        <td style="background-color: lightblue;">C</td>
        <td style="background-color: lightblue;">D</td>
        <td style="background-color: lightblue;">E</td>

        <td style="background-color: lightblue;">A</td>
        <td style="background-color: lightblue;">B</td>
        <td style="background-color: lightblue;">C</td>
        <td style="background-color: lightblue;">D</td>
        <td style="background-color: lightblue;">E</td>
      </tr>
      <tr *ngFor="let course_item of course_codes; let myIndex = index">
        <td style="background-color: lightpink;" >{{myIndex + 1}}</td>
        <td style="background-color:lightyellow;">{{course_item}}</td>
        <ng-container *ngFor="let i of all_particulars">
          <ng-container *ngFor="let j of all_sections">
            <td style="background-color: rgb(243, 223, 231);">{{getCurrentMarks(course_item,j,i)}}</td>
          </ng-container>
        </ng-container>
        <ng-container *ngFor="let j of all_sections">
          <td style="background-color: rgb(243, 223, 231);">{{getPreviousMarks(course_item,j,'Average')}}</td>
        </ng-container>
      </tr>
      <tr>
        <td colspan="2" style="background-color: #FDF5E6;"><span class="bold">Total</span></td>
        <ng-container *ngFor="let i of all_total_particulars">
          <ng-container *ngFor="let j of all_sections">
            <td style="background-color: #FDF5E6;">{{getTotalParticular(j,i)}}</td>
          </ng-container>
        </ng-container>
        <td colspan="5" style="background-color: #FDF5E6;"></td>
        <td colspan="5" style="background-color: #FDF5E6;"></td>
        <td colspan="5" style="background-color: #FDF5E6;"></td>
      </tr>
    </table>
  </div>
</div>

<br>
<br>
<h3 class="title">Visualizations</h3>
<br>
<div class="chart-display" id="chart-display">
  <div class="chart-row">
    <div class="chart-item">
      <label id="chartLabel1"></label>
      <canvas id="myChart1" style="width:400px; height: 300px;"></canvas>
    </div>
    <div class="chart-item">
      <label id="chartLabel2"></label>
      <canvas id="myChart2" style="width:400px; height: 300px;"></canvas>
    </div>
  </div>
  <div class="chart-row">
    <div class="chart-item">
      <label id="chartLabel3"></label>
      <canvas id="myChart3" style="width:400px; height: 300px;"></canvas>
    </div>
    <div class="chart-item">
      <label id="chartLabel4"></label>
      <canvas id="myChart4" style="width:400px; height: 300px;"></canvas>
    </div>
  </div>
  <div class="chart-row">
    <div class="chart-item">
      <label id="chartLabel5"></label>
      <canvas id="myChart5" style="width:400px; height: 300px;"></canvas>
    </div>
    <div class="chart-item">
      <label id="chartLabel6"></label>
      <canvas id="myChart6" style="width:400px; height: 300px;"></canvas>
    </div>
  </div>
  <div class="chart-row">
    <div class="chart-item">
      <label id="chartLabel7"></label>
      <canvas id="myChart7" style="width:400px; height: 300px;"></canvas>
    </div>
    <div class="chart-item">
      <label id="chartLabel8"></label>
      <canvas id="myChart8" style="width:400px; height: 300px;"></canvas>
    </div>
  </div>
  <div class="chart-row">
    <div class="chart-item">
      <label id="chartLabel9"></label>
      <canvas id="myChart9" style="width:400px; height: 300px;"></canvas>
    </div>
    <div class="chart-item">
      <label id="chartLabel10"></label>
      <canvas id="myChart10" style="width:400px; height: 300px;"></canvas>
    </div>
  </div>
</div>
<button (click)="printReport()" class="print no-print" id="printButton">Print Report</button>